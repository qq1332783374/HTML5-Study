<!DOCTYPE html>
<html>
	<head>
		<meta charset="UTF-8">
		<title>进度条</title>
		<style>
			*{
				margin: 0;
			}
			#progress{
				width: 200px;
				height: 20px;
				background: #ddd;
				position: relative;
			}
			#info{
				width: 0px;
				height: 20px;
				background: aquamarine;
				position: absolute;
				left: 0;
				top: 0;
			}
		</style>
	</head>
	<body style="margin: 200px;">
		<input type="file" name="files" id="files" value="" />
		<div id="progress">
			<div id="info"></div>
		</div>
		<div id="result">
			
		</div>
		<input type="submit" name="btn" id="btn" />
		
		<script type="text/javascript">
			var oFiles = document.getElementById("files");
			var oBtn = document.getElementById("btn");
			var oRes = document.getElementById("result");
			var oInfo = document.getElementById("info");
			oBtn.onclick = function(){
				var fs = oFiles.files[0];
//				console.log(fs)
				var reader = new FileReader(fs)
//				console.log(reader)
				reader.onprogress = function(e){
					console.log(e)
					oInfo.style.width = Math.round(e.loaded/e.total*200)+"px"
					oRes.innerHTML = Math.round((e.loaded/e.total*200)*0.5)+"%"
				}
				reader.readAsDataURL(fs)
			}
		</script>
	</body>
</html>
